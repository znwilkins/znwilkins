<!DOCTYPE html>
<html>
<head>
  <title>Flood Calculator</title>
  <meta charset="UTF-8">
<style>
body{
  background-color: lightblue;
}
.container {
    position: relative;
}

.intro1 {
    position: fixed;
    top: 250px;
    left: 500px;
    font-size: 24px;
    opacity: 0;
    animation: fadeinout 4s;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}
.intro2 {
    position: fixed;
    top: 250px;
    left: 500px;
    font-size: 24px;
    opacity: 0;
    animation: fadeinout 4s;
    animation-delay: 4s;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}
.intro3 {
    position: fixed;
    top: 250px;
    left: 500px;
    font-size: 24px;
    opacity: 0;
    animation: fadein 4s;
    animation-delay: 8s;
    animation-fill-mode: forwards;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}

@keyframes fadeinout {
    0%, 100% {opacity: 0;}
    50% {opacity: 1;}
}
@keyframes fadein {
    0% {opacity: 0;}
    100% {opacity: 1;}
}

.gps{
  position: fixed;
  top: 350px;
  left: 500px;
  width:100px;
  height:100px;
  opacity: 0;
  animation: fadein 2s;
  animation-delay: 10s;
  animation-fill-mode: forwards;
}

.bird{
  position: fixed;
  bottom:0;
  left:75px;
  width:650px;
  height:650px;
}

.speech{
  position: absolute;
  top: 200px;
  left: 500px;
  width: 300px;
  height: auto;
}

.map{
  position: fixed;
  bottom: 25px;
  right: -25px;
  width: 500px;
  height: auto;
  opacity: 0.2;
}

.loc{
  position: fixed;
  top: 391px;
  left: 650px;
  opacity: 0;
  animation: fadein 2s;
  animation-delay: 10s;
  animation-fill-mode: forwards;
}

.work {
    position: fixed;
    top: 250px;
    left: 500px;
    font-size: 24px;
    opacity: 0;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}

#work{
  opacity: 0.0;
}

#work.visible{
  animation: fadeinout 2s infinite;
}

.result {
    position: fixed;
    top: 250px;
    left: 500px;
    font-size: 24px;
    opacity: 0;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}

#result{
  opacity: 0.0;
}

#result.visible{
  animation: fadein 2s;
  animation-fill-mode: forwards;
}

.land{
  position: fixed;
  bottom: 400px;
  right: 200px;
  width: 300px;
  height: auto;
  opacity: 0;
}

#land{
  opacity: 0.0;
}

#land.visible{
  animation: fadein 2s;
  animation-delay: 2s;
  animation-fill-mode: forwards;
}

@keyframes stretch{
  0% {opacity: 0;height: 0px;}
  100% {opacity: 0.7;height: 110px;}
}

.water{
  position: fixed;
  /*top: 301px;*/
  bottom: 400px;
  right: 200px;
  width: 298px;
  height: 215px;
  opacity: 0;
  margin: 0px;
}

#water{
  opacity: 0.0;
}

#water.visible{
  animation: stretch 2s;
  animation-delay: 4s;
  animation-fill-mode: forwards;
}

.tweet{
  position: fixed;
  bottom: 50px;
  right: 50px;
  opacity: 1;
}

ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}

li {
    float: left;
}

li a {
    display: block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}

.title {
    display: block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
}

.about {
  background-color: #4CAF50;
}

.box {
  margin: auto;
  color: white;
  font-family: "Trebuchet MS", Helvetica, sans-serif;
  background-color: #333;
  width: 400px;
  top: 200px;
  padding: 20px;
  border-color: #4CAF50;
  border-width: 5px;
  border-style: outset;
}

</style>
<script>
  !function(d,s,id){
    var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
    if(!d.getElementById(id)){
      js=d.createElement(s);
      js.id=id;
      js.src=p+'://platform.twitter.com/widgets.js';
      fjs.parentNode.insertBefore(js,fjs);
    }
  }
  (document, 'script', 'twitter-wjs');
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<!-- <script>
  $(function () {
      $('#button').click(function () {
          $("div").remove(".work");
          $("#land").toggleClass('visible');
          $("#result").toggleClass('visible');
          $("#water").toggleClass('visible');
      });
  })

var wsUri = "ws://{{req.headers.host}}/ws/front";
var ws = new WebSocket(wsUri);

function getCity() {
    $("div").remove(".intro3");
    $("input").remove(".gps");
    $("div").remove(".loc");
    $("#work").toggleClass('visible');

    var location = $( '#location' ).val();
    console.log(location);
    $.get( "https://maps.googleapis.com/maps/api/geocode/json?address=" + location, function ( data ) {

        if ( data.status === "OK" ) {

            var result = data.results[0];
            var returnedAddress = result["formatted_address"];

            var payload = {
                lat: result.geometry.location.lat,
                lng: result.geometry.location.lng
            }

            console.log(payload.lat);
            console.log(payload.lng);

            ws.send(JSON.stringify(payload));

        }

    });
    return false;
}

function getLocation() {
    if (navigator.geolocation) {
        $("div").remove(".intro3");
        $("input").remove(".gps");
        $("div").remove(".loc");
        $("#work").toggleClass('visible');
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {alert("Unable to locate.");}
}

function showPosition(position) {
    var payload = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
    }

    console.log(payload.lat);
    console.log(payload.lng);

    ws.send(JSON.stringify(payload));
}

ws.onmessage = function(ev) {
    var payload = JSON.parse(ev.data);
    console.log(payload.lat);
    console.log(payload.lng);
}
</script>
-->
</head>
<body>
  <ul>
    <li class = "title">Flood Calculator</li>
      <li style="float:right;list-style-type:none;">
        <a class="about" href="floodfree.html">Return</a>
      </li>
  </ul>

  <div class="container">
    <img class = "map" src="https://raw.githubusercontent.com/znwilkins/floodfree/master/ns.png" alt="Map of Nova Scotia">
    <img class = "bird" src="https://raw.githubusercontent.com/znwilkins/floodfree/master/Birdman.png" alt = "Oliver the Osprey">
    <div><br><br></div>
    <div class = "box">
      <center><b>About</b></center>
      <br>
      This site was developed by
      <p style="margin-left: 40px">
        Azeem Ali<br>
        Ryan Lowe<br>
        Damien Robichaud<br>
        Zachary Wilkins<br>
      </p>
      using IBM's Bluemix platform.<br><br>
      Data sets provided by the province of Nova Scotia.
    </div>

    <div class="tweet"><a href="https://twitter.com/intent/tweet?button_hashtag=FloodFree&text=Oh%20no!%20I%20just%20found%20out%20when%20my%20town%20will%20flood!%20When%20will%20yours%3F" class="twitter-hashtag-button" data-related="floodfree_ns" data-url="http://sealevelrise.mybluemix.net/">Tweet #FloodFree</a></div>
  </div>


</body>
</html>
